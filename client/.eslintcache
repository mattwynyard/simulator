[{"S:\\Simulator\\Map\\client\\src\\index.js":"1","S:\\Simulator\\Map\\client\\src\\App.js":"2","S:\\Simulator\\Map\\client\\src\\reportWebVitals.js":"3"},{"size":500,"mtime":499162500000,"results":"4","hashOfConfig":"5"},{"size":2834,"mtime":1618960522224,"results":"6","hashOfConfig":"5"},{"size":362,"mtime":499162500000,"results":"7","hashOfConfig":"5"},{"filePath":"8","messages":"9","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"10"},"1dc9rqr",{"filePath":"11","messages":"12","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"13"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"10"},"S:\\Simulator\\Map\\client\\src\\index.js",[],["16","17"],"S:\\Simulator\\Map\\client\\src\\App.js",["18","19"],"import './App.css';\nimport { MapContainer, TileLayer, CircleMarker, ScaleControl} from 'react-leaflet';\nimport L, { LatLng } from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport React, { useState, useEffect} from 'react';\n\nfunction App() {\n\n  const [counter, setCounter] = useState(0);\n  const [latlng, setPosition] = useState([]);\n  const [host] = useState(\"localhost:5000\");\n\n  useEffect(\n    () => {\n        const id = setInterval(() => {\n        setCounter(counter + 1); \n        getPosition().then(data => {\n            console.log(data);\n            if (data.latlng !== null) {\n              try {\n                let lat = data.latlng[0];\n                let lng = data.latlng[1];\n                setPosition([L.latLng(lat, lng)]);     \n              } catch {\n                console.log(\"error\")\n              }     \n            }\n             \n        });           \n        }, 1000);\n        return () => {\n        clearInterval(id);\n        };\n    },\n    [counter],\n);\nconst getPosition = async () => {\n        \n  try {\n      const response = await fetch(\"http://\" + host + '/position', {\n          method: 'GET',\n          credentials: 'same-origin',\n          headers: {\n              'Accept': 'application/json',\n              'Content-Type': 'application/json',        \n          },\n         \n      });\n      if (response.ok) {\n          const body = await response.json();\n          console.log(body);\n\n          return body; \n      } else {\n          \n          return Error(response);\n      }\n  } catch {\n      return new Error(\"connection error\")\n  }      \n};\n\n  return (\n    <div className=\"App\">\n       <MapContainer \n            className=\"map\" \n            center={[-36.81835, 174.74581]} \n            zoom={12} \n            minZoom={10}\n            maxZoom={18}\n            scrollWheelZoom={true}\n            keyboard={true}\n            \n            eventHandlers={{\n                load: () => {\n                  console.log('onload')\n                },\n              }}\n        >\n        <TileLayer\n          attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n          //url=\"http://localhost:5000/auckland/{z}/{x}/{y}.png\"\n        />\n         <ScaleControl name=\"Scale\" className=\"scale\"/>\n         {latlng.map((position, idx) =>\n            <CircleMarker\n              key={`marker-${idx}`} \n              center={position}\n              radius ={5}\n              fill={true}\n              fillOpacity={1.0}\n              eventHandlers={{\n                click: () => {\n                  console.log('marker clicked')\n                },\n              }}\n              >        \n            </CircleMarker>\n          )}\n          \n         </MapContainer>\n    </div>\n  );\n}\n\nexport default App;\n","S:\\Simulator\\Map\\client\\src\\reportWebVitals.js",[],{"ruleId":"20","replacedBy":"21"},{"ruleId":"22","replacedBy":"23"},{"ruleId":"24","severity":1,"message":"25","line":3,"column":13,"nodeType":"26","messageId":"27","endLine":3,"endColumn":19},{"ruleId":"28","severity":1,"message":"29","line":35,"column":5,"nodeType":"30","endLine":35,"endColumn":14,"suggestions":"31"},"no-native-reassign",["32"],"no-negated-in-lhs",["33"],"no-unused-vars","'LatLng' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getPosition'. Either include it or remove the dependency array.","ArrayExpression",["34"],"no-global-assign","no-unsafe-negation",{"desc":"35","fix":"36"},"Update the dependencies array to be: [counter, getPosition]",{"range":"37","text":"38"},[972,981],"[counter, getPosition]"]